\documentclass[a4paper]{article}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{bussproofs}
\usepackage{mathtools}
\usepackage{verbatim}
\usepackage{dsfont}
\usepackage{mathabx}
\usepackage[all, 2cell]{xy}
\usepackage[all]{xy}
\usepackage{wasysym}
\usepackage{rotating}
\usepackage{geometry}
\usepackage{trfsigns}
\usepackage{cmll}
\usepackage{authblk}
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{lipsum}
\usepackage{extpfeil}
\usepackage{soul}
\usepackage{graphicx}

\newcommand\mapsfrom{\mathrel{\reflectbox{\ensuremath{\mapsto}}}}

\theoremstyle{defin}
\newtheorem{definition}{Definition}

\theoremstyle{theorem}
\newtheorem{theorem}{Theorem}

\theoremstyle{claim}
\newtheorem{claim}{Claim}

\theoremstyle{prop}
\newtheorem{prop}{Proposition}

\theoremstyle{lemma}
\newtheorem{lemma}{Lemma}

\theoremstyle{fact}
\newtheorem{fact}{Fact}

\theoremstyle{ex}
\newtheorem{ex}{Example}


\theoremstyle{col}
\newtheorem{col}{Corollary}

\let\strokeL\L
\DeclareRobustCommand{\L}{\ifmmode\mathbf{L}\else\strokeL\fi}

\author{Daniel Rogozin}
\date{}
\title{Varieties of representable relation algebra reducts}

\begin{document}
\maketitle

\nocite{*}

\section{Question}

Let $\tau$ be a subsignature of operations expressible in the signature of $RA$. ${\bf R}(\tau)$ is a variety iff ??.

Investigate discriminators for representable relation algebra reducts.

\section{Varieties and discriminators}

Standardly, a class of algebras is called \emph{variety}, if it can be determined by some equational theory, or, equivalently, it is closed under homomorphic images, subalgebras and direct products. Given a class of algebras $\mathcal{K}$, ${\bf V}(\mathcal{K})$ is a variety generated by $\mathcal{K}$ or, equivalently, ${\bf HSP}(\mathcal{K})$, the closure of $\mathcal{K}$ under homomorphic images, subalgebras and direct products.

Let $\{ A_i \: | \: i \in I \}$ be an indexed family of algebras, then a subalgebra $A \subseteq \Pi_{i \in I} A_i$ is a subdirect product if $\pi_i(A) = A_i$. An embedding $\alpha : A \to \Pi_{i \in I} A_i$ is subdirect if $\alpha(A)$ is subdirect product. An algebra is subdirectly irreducible if for every subdirect embedding $\alpha : A \to \Pi_{i \in I} A_i$ there exists $i \in I$ such that $\pi_i \circ \alpha : A \to A_i$ is an isomorphism.

An equivalence relation $\theta$ on an algebra $A$ is called \emph{congruence}, if $\theta$ respects any operation. ${\bf Con}(A)$ is the set of all congruences on $A$. An algebra is called \emph{simple}, if ${\bf Con}(A/\theta) = \{ \Delta, \nabla \}$, where $\Delta$ and $\nabla$ are trivial congruences. One can obtain a simple algebra by factorising it through the maximal congruence \cite[Theorem 8]{sankappanavar1981course}.

One can equivalently define subdirectly irreducible algebras using congruences as follows. an algebra is subdirectly irreducible iff either $A$ is trivial or there exists a minimal congruence in ${\bf Con}(A) \setminus \{ \Delta \}$.

Recall that a Stone space is a compact Hausdorff zero-dimensional topological space. A subdirect product $A \subseteq \Pi_{x \in X} A_x$ over a Stone space $X$ if
\begin{enumerate}
\item for all $a, b \in A$ $\{ x \in X \: | \: a(x) = b(x) \}$ is clopen.
\item for all $a, b \in A$ and for all clopen $Y \subseteq X$ $a \upharpoonright_{Y} \cup a \upharpoonright_{X \setminus Y} \in A$.
\end{enumerate}

A variety $\mathcal{V}$ is \emph{arithmetical}, if it is congruence-permutable and congruence-distributive, or, equivalently, there exists a ternary term $p$ such that:
\begin{equation}
\mathcal{V} \models p(x,y,x) \approx p(x,y,y) \approx p(y,y,x) \approx x
\end{equation}

A ternary term $t(x, y, z)$ for an algebra $A$ if, for all $a, b, c \in A$:

\begin{equation}
t(a,b,c) =
  \begin{cases}
  c & \text{if $a = b$} \\
  a & \text{otherwise}
  \end{cases}
\end{equation}

A variety $\mathcal{V}$ is called discriminator if there exists a class $\mathcal{K}$ such that $\mathcal{V} = {\bf V}(\mathcal{K})$ and there exists a term $t(x,y,z)$, which is a discriminator term for every member of $\mathcal{K}$. It is known that if an algebra $A$ has a discriminator term, then $A$ is simple \cite[Lemma 9.2]{sankappanavar1981course}. Moreover, we have the following property of discriminator terms, see \cite[Theorem 9.4]{sankappanavar1981course}.

\begin{theorem} Let $t(x,y,z)$ be a discriminator term for every member of a class $\mathcal{K}$:

\begin{enumerate}
\item ${\bf V}(\mathcal{K})$ is an arithmetical variety.
\item Every indecomposable member of ${\bf V}(\mathcal{K})$ is simple.
\item Simple algebras are precisely members of ${ISP}_U(\mathcal{K}_+)$.
\item Every member of ${\bf V}(\mathcal{K})$ is isomorphic to a Boolean product of simple algebras.
\end{enumerate}
\end{theorem}

\section{BAOs, relation algebras and their reducts}

\subsection{Discriminator varieties of BAOs}

Let $B$ be a Boolean algebra, an operator is an $n$-ary function $f : A^n \to A$ such that, for all $x_1, \dots, x_n, x, y \in B$:

\begin{itemize}
\item $f(x_1, \dots, x + y, \dots, x_n) = f(x_1, \dots, x, \dots, x_n) + f(x_1, \dots, y, \dots, x_n)$
\item $f(x_1, \dots, 0, \dots, x_n) = 0$
\end{itemize}

A Boolean algebra with operators is an algebra $M = (B, (f_i)_{i \in I})$, where each $f_i$ is an operator.

In the case of BAOs, one can define discriminator simpler, as an unary term $d(x)$ such that, for all $a \in M$, where $M$ is a BAO:
\begin{equation}
d(x) =
\begin{cases}
  0 & \text{if $x = 0$} \\
  1 & \text{otherwise}
\end{cases}
\end{equation}

One can characterise discriminator varieties as follows, see \cite[Lemma 2.1]{andreka1998notions}:
\begin{theorem} Let $\mathcal{V}$ be a variety of BAOs and $d(x)$ a unary term, then the following are equivalent:

\begin{enumerate}
\item $d$ is a discriminator variety.
\item The following equations are valid in $\mathcal{V}$:
\begin{enumerate}
\item $x \leq d(x)$
\item $d(d(x)) \leq d(x)$
\item $d(- d(x)) \leq - d(x)$
\item $f(x_0, \dots, x_{n-1}) \leq d(x_i)$ for all $n > 0$ and for every operator $f$ of $M$
\end{enumerate}
\end{enumerate}
\end{theorem}

\subsection{Relation algebras and their reducts}

In this subsection, we consider relation algebras, a kind of BAOs.

\begin{definition}
  $ $

    A relation algebra is an algebra $\mathcal{R} = (R, 0, 1, +, -, ;, {}^{\smile}, {\bf 1'})$ such that $(R, 0, 1, +, -)$ is a Boolean algebra and the following hold:
    \begin{enumerate}
      \item $(R, ;, {\bf 1'})$ is a monoid
      \item $(a + b) ; c = (a ; c) + (b ; c)$
      \item $a^{\smile \smile} = a$
      \item $(a + b)^{\smile} = a^{\smile} + b^{\smile}$
      \item $(a ; b)^{\smile} = b^{\smile} ; a^{\smile}$
      \item $a^{\smile} ; (- (a ; b)) \leq - b$
    \end{enumerate}
    where $a \leq b$ iff $a + b = b$. ${\bf RA}$ denotes the class of all relation algebras.
\end{definition}

\begin{definition}
    A proper relation algebra is an algebra $\mathcal{R} = (R, \emptyset,W, \cup, -, |, {}^{\smile}, {\bf 1 })$ such that $R \subseteq \mathcal{P}(W)$, where $W \subseteq X \times X$ is an equivalence relation; $|$ is relation composition, ${}^{\smile}$ is relation converse, ${\bf Id}$ is a
    diagonal subset of $W$, that is:
    \begin{enumerate}
    \item $a | b = \{ (x, z) \: | \: \exists y \: (x, y) \in a \: \& \: (y, z) \in b \}$
    \item $a^{\smile} = \{ (x, y) \: | \: (y, x) \in a \}$
    \item ${\bf Id} = \{ (x, y) \: | \: x = y \}$
    \end{enumerate}
      The class of all proper relation algebras is denoted as ${\bf PRA}$. ${\bf Rs}$ is the class of all relation set algebras, proper relation algebra with a diagonal subrelation as an identity. ${\bf RRA}$ is the class of all representable relation algebras, that is, the closure of ${\bf PRA}$ under isomorphic copies.
\end{definition}

\subsection{Varieties}

\subsubsection{Boolean algebras with residuated operators}

Let $\mathcal{A}_0$ be a Boolean algebra, a unary operation on $f$ is called \emph{residuated} if there exists a \emph{residual} operation $g$ such that for all $a, b \in \mathcal{A}_0$:
\begin{center}
$f(a) \leq b$ iff $a \leq f(b)$
\end{center}
Equivalently, $f$ is residuated if there exists a conjugate operation $h$ such that for all $a, b \in \mathcal{A}_0$:
\begin{center}
$f(a) \cdot b = 0$ iff $a \land h(b) = 0$
\end{center}
$f$ is \emph{self-conjugate} whenever $f$ is equal to its conjugate operation.

\begin{theorem}
Let $f$ be a residuated operator on $\mathcal{A}_0$, then

\begin{enumerate}
\item $f$ is normal and completely additive,
\item $f$ and $h$ are conjugate operations on $\mathcal{A}_0$ iff they are normal and the following holds for all $a, b \in \mathcal{A}_0$
\begin{center}
$f(a) \cdot b \leq f(a \cdot h(b))$ and $a \cdot h(b) \leq h(f(a) \cdot b)$
\end{center}
\end{enumerate}
\end{theorem}
Two $n$-ary operators $f$ and $h$ are conjugate in the $i$-th argument if $f_{\vec{a}, i}$ is conjugate to $g_{\vec{a}, i}$. Let $\mathcal{A}$ be a BAO, $\mathcal{A}$ is called a \emph{Boolean algebra with residuated operators} if for each operator $f$ of $\mathcal{A}$ and for each $i < ar(f)$ there exists an $ar(f)$-ry term $t$, which is conjugate to $f$ in the $i$-th argument. ${\bf RA}$ is an example, where $\smile$ is self-conjugate and composition has conjugate terms $x ; y^{\smile}$ and $x^{\smile} ; y$.

An $r$-algebra is a Boolean algebra with three residuated binary operations $\bullet$, $\triangleright$ and $\triangleleft$, where $\triangleright$ and $\triangleleft$ are right and left conjugates to $\bullet$, that is, the following conditions are equivalent:
\begin{enumerate}
\item $(x \bullet y) \cdot z = 0$
\item $(x \triangleright z) \cdot y = 0$
\item $(z \triangleleft y) \cdot x = 0$
\end{enumerate}

\subsubsection{Residuated monoids}

\subsubsection{Positive relation algebras}

\subsubsection{Domain algebras}


\subsection{Non-varieties}
\subsection{Unknown}

\section{Decidability aspects}
\subsection{Current results}
\subsection{Problems}

\bibliographystyle{alpha}
\bibliography{Text}
\end{document}
